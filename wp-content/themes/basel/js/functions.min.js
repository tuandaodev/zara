var baselThemeModule;!function(a){"use strict";baselThemeModule=function(){var b={popupEffect:"mfp-move-horizontal",shopLoadMoreBtn:".basel-products-load-more.load-on-scroll",supports_html5_storage:!1,ajaxLinks:".basel-product-categories a, .widget_product_categories a, .widget_layered_nav_filters a, .filters-area a, body.post-type-archive-product:not(.woocommerce-account) .woocommerce-pagination a, body.tax-product_cat:not(.woocommerce-account) .woocommerce-pagination a, .basel-woocommerce-layered-nav a, .widget_product_tag_cloud a, .basel-products-shop-view a, .basel-price-filter a, .woocommerce-widget-layered-nav a, .basel-clear-filters-wrapp a, .basel-woocommerce-sort-by a",mainCarouselArg:{rtl:a("body").hasClass("rtl"),items:1,autoplay:basel_settings.product_slider_autoplay,autoplayTimeout:3e3,loop:basel_settings.product_slider_autoplay,dots:!1,nav:!1,autoHeight:"yes"==basel_settings.product_slider_auto_height,navText:!1,onRefreshed:function(){a(window).resize()}}};try{b.supports_html5_storage="sessionStorage"in window&&null!==window.sessionStorage,window.sessionStorage.setItem("basel","test"),window.sessionStorage.removeItem("basel")}catch(c){b.supports_html5_storage=!1}return{init:function(){this.headerBanner(),this.fixedHeaders(),this.verticalHeader(),this.splitNavHeader(),this.visibleElements(),this.bannersHover(),this.parallax(),this.googleMap(),this.scrollTop(),this.quickViewInit(),this.quickShop(),this.sidebarMenu(),this.addToCart(),this.productImages(),this.productImagesGallery(),this.stickyDetails(),this.mfpPopup(),this.swatchesVariations(),this.swatchesOnGrid(),this.blogMasonry(),this.blogLoadMore(),this.productsLoadMore(),this.productsTabs(),this.portfolioLoadMore(),this.equalizeColumns(),this.menuSetUp(),this.menuOffsets(),this.onePageMenu(),this.mobileNavigation(),this.simpleDropdown(),this.woocommerceWrappTable(),this.wishList(),this.compare(),this.baselCompare(),this.promoPopup(),this.cookiesPopup(),this.productVideo(),this.product360Button(),this.btnsToolTips(),this.stickyFooter(),this.updateWishListNumberInit(),this.cartWidget(),this.ajaxFilters(),this.shopPageInit(),this.filtersArea(),this.categoriesMenu(),this.searchFullScreen(),this.loginTabs(),this.productAccordion(),this.productCompact(),this.countDownTimer(),this.mobileFastclick(),this.nanoScroller(),this.woocommerceComments(),this.woocommerceQuantity(),this.initZoom(),this.videoPoster(),this.addToCartAllTypes(),this.contentPopup(),this.mobileSearchIcon(),this.shopHiddenSidebar(),this.loginSidebar(),this.shopLoader(),this.stickyAddToCart(),this.stickySidebarBtn(),this.productLoaderPosition(),this.lazyLoading(),this.owlCarouselInit(),this.baselSliderLazyLoad(),this.portfolioPhotoSwipe(),this.sortByWidget(),this.instagramAjaxQuery(),this.footerWidgetsAccordion(),a(window).resize(),a("body").addClass("document-ready"),a(document.body).on("updated_cart_totals",function(){baselThemeModule.woocommerceWrappTable()})},footerWidgetsAccordion:function(){a(window).width()>767||a(".footer-widget-collapse .widget-title").on("click",function(){var b=a(this),c=b.parent(),d=c.find("> *:not(.widget-title)");c.hasClass("footer-widget-opened")?(c.removeClass("footer-widget-opened"),d.stop().slideUp(200)):(c.addClass("footer-widget-opened"),d.stop().slideDown(200))})},instagramAjaxQuery:function(){a(".instagram-widget").each(function(){var b=a(this);if(b.hasClass("instagram-with-error")){var c=b.data("username"),d=b.data("atts"),e=c.indexOf("#")>-1?"explore/tags/"+c.substr(1):c,f="https://www.instagram.com/"+e+"/";b.addClass("loading"),a.ajax({url:f,success:function(c){a.ajax({url:basel_settings.ajaxurl,data:{action:"basel_instagram_ajax_query",body:c,atts:d},dataType:"json",method:"POST",success:function(a){b.parent().html(a),baselThemeModule.owlCarouselInit()},error:function(a){console.log("instagram ajax error")}})},error:function(a){console.log("instagram ajax error")}})}})},sortByWidget:function(){a("body").hasClass("basel-ajax-shop-off")||(a(".woocommerce-ordering").on("change","select.orderby",function(){var b=a(this).closest("form");b.find('[name="_pjax"]').remove(),a.pjax({container:".main-page-wrapper",timeout:basel_settings.pjax_timeout,url:"?"+b.serialize(),scrollTo:!1})}),a(".woocommerce-ordering").submit(function(a){a.preventDefault(a)}))},portfolioPhotoSwipe:function(){a(document).on("click",".portfolio-enlarge",function(c){c.preventDefault();var d=a(this).parents(".portfolio-entry"),e=d.index(),f=b();baselThemeModule.callPhotoSwipe(e,f)});var b=function(){var b=[];return a(".portfolio-entry").find("figure a img").each(function(){b.push({src:a(this).attr("src"),w:a(this).attr("width"),h:a(this).attr("height")})}),b}},productFilters:function(){var b=function(a,b){if(0!=a.length){var c=a.val();c.indexOf(",")>0?a.val(c.replace(","+b,"").replace(b+",","")):a.val(c.replace(b,""))}};a(".basel-pf-checkboxes li > .pf-value").on("click",function(c){c.preventDefault();var d=a(this),e=d.parent(),f=d.parents(".basel-pf-checkboxes"),g=f.find(".result-input"),h=f.find(".basel-pf-results"),i=f.hasClass("multi_select"),j=g.val(),k=d.data("title"),l=d.data("val");i?e.hasClass("pf-active")?(b(g,l),h.find('li[data-title="'+l+'"]').remove(),e.removeClass("pf-active")):(""==j?g.val(l):g.val(j+","+l),h.prepend('<li class="selected-value" data-title="'+l+'">'+k+"</li>"),e.addClass("pf-active")):e.hasClass("pf-active")?(g.val(""),h.find(".selected-value").remove(),e.removeClass("pf-active")):(g.val(l),h.find(".selected-value").remove(),h.prepend('<li class="selected-value" data-title="'+l+'">'+k+"</li>"),e.parents(".basel-scroll-content").find(".pf-active").removeClass("pf-active"),e.addClass("pf-active"))}),a(".basel-pf-checkboxes").on("click",".selected-value",function(){var c=a(this),d=c.parents(".basel-pf-checkboxes"),e=d.find(".result-input"),f=c.data("title");if("price-filter"==f){var g=c.data("min"),h=c.data("max"),i=d.find(".price_slider_widget");return i.slider("values",0,g),i.slider("values",1,h),d.find(".min_price").val(""),d.find(".max_price").val(""),void a(document.body).trigger("filter_price_slider_slide",[g,h,g,h,i])}b(e,f),d.find('.pf-value[data-val="'+f+'"]').parent().removeClass("pf-active"),c.remove()}),a(".basel-pf-checkboxes").each(function(){var b=a(this),c=b.find(".basel-pf-title"),d=c.siblings(".basel-pf-dropdown"),e=b.hasClass("multi_select");c.on("click",function(e){var g=e.target;a(g).is(c.find(".selected-value"))||(b.hasClass("opened")?f():(b.addClass("opened"),d.slideDown(100),setTimeout(function(){baselThemeModule.nanoScroller()},300)))}),a(document).on("click",function(d){var g=d.target;(b.hasClass("opened")&&e&&!a(g).is(b)&&!a(g).parents().is(b)||!e&&!a(g).is(c)&&!a(g).parents().is(c))&&f()});var f=function(){b.removeClass("opened"),d.slideUp(100)}});var c=function(b){b.find(".basel-pf-checkboxes").each(function(){a(this).find('input[type="hidden"]').val()||a(this).find('input[type="hidden"]').remove()})},d=function(a){var b=a.find(".basel-pf-categories .pf-active .pf-value");b.length>0&&a.attr("action",b.attr("href"))};a(document.body).on("filter_price_slider_create filter_price_slider_slide",function(b,c,d,e,f,g){var h=accounting.formatMoney(c,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format}),i=accounting.formatMoney(d,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format});g.siblings(".filter_price_slider_amount").find("span.from").html(h),g.siblings(".filter_price_slider_amount").find("span.to").html(i);var j=g.parents(".basel-pf-checkboxes").find(".basel-pf-results"),k=j.find(".selected-value");c==e&&d==f?k.remove():0==k.length?j.prepend('<li class="selected-value" data-title="price-filter" data-min="'+e+'" data-max="'+f+'">'+h+" - "+i+"</li>"):k.html(h+" - "+i),a(document.body).trigger("price_slider_updated",[c,d])}),a(".basel-pf-price-range .price_slider_widget").each(function(){var b=a(this),c=b.siblings(".filter_price_slider_amount").find(".min_price"),d=b.siblings(".filter_price_slider_amount").find(".max_price"),e=parseInt(c.data("min")),f=parseInt(d.data("max")),g=parseInt(c.val()),h=parseInt(d.val());a(".price_slider_widget, .price_label").show(),b.slider({range:!0,animate:!0,min:e,max:f,values:[g,h],create:function(){g==e&&h==f&&(c.val(""),d.val("")),a(document.body).trigger("filter_price_slider_create",[g,h,e,f,b])},slide:function(g,h){h.values[0]==e&&h.values[1]==f?(c.val(""),d.val("")):(c.val(h.values[0]),d.val(h.values[1])),a(document.body).trigger("filter_price_slider_slide",[h.values[0],h.values[1],e,f,b])},change:function(b,c){a(document.body).trigger("price_slider_change",[c.values[0],c.values[1]])}})}),a(".basel-product-filters").one("click",".basel-pf-btn button",function(b){var e=a(this).parents(".basel-product-filters");c(e),d(e),"undefined"!=typeof a.fn.pjax&&e.hasClass("with-ajax")&&(a.pjax({container:".main-page-wrapper",timeout:basel_settings.pjax_timeout,url:e.attr("action"),data:e.serialize(),scrollTo:!1}),a(this).prop("disabled",!0))}),a(".basel-pf-checkboxes .pf-active > .pf-value").each(function(){var b=a(this).parents(".basel-pf-checkboxes").find(".basel-pf-results");b.prepend('<li class="selected-value" data-title="'+a(this).data("val")+'">'+a(this).data("title")+"</li>")})},owlCarouselInit:function(){a("[data-owl-carousel]").each(function(){function b(){var b=d.find(".owl-item.active").find(".basel-slide").attr("id");d.find(".owl-item.pseudo-active").removeClass("pseudo-active");var c=d.find('[id="'+b+'"]');c.each(function(){a(this).parent().hasClass("active")||a(this).parent().addClass("pseudo-active")})}var c=a(this),d=c.find(".owl-carousel"),e={rtl:a("body").hasClass("rtl"),items:c.data("desktop")?c.data("desktop"):1,responsive:{979:{items:c.data("desktop")?c.data("desktop"):1},768:{items:c.data("desktop_small")?c.data("desktop_small"):1},479:{items:c.data("tablet")?c.data("tablet"):1},0:{items:c.data("mobile")?c.data("mobile"):1}},autoplay:"yes"==c.data("autoplay")?!0:!1,autoplayHoverPause:"yes"==c.data("autoplay")?!0:!1,autoplayTimeout:c.data("speed")?c.data("speed"):5e3,dots:"yes"==c.data("hide_pagination_control")?!1:!0,nav:"yes"==c.data("hide_prev_next_buttons")?!1:!0,autoHeight:"yes"==c.data("autoheight")?!0:!1,slideBy:""==c.data("scroll_per_page")?1:"page",navText:!1,center:"yes"==c.data("center_mode")?!0:!1,loop:"yes"==c.data("wrap")?!0:!1,dragEndSpeed:c.data("dragendspeed")?c.data("dragendspeed"):200,onRefreshed:function(){a(window).resize()}};c.data("sliding_speed")&&(e.smartSpeed=c.data("sliding_speed"),e.dragEndSpeed=c.data("sliding_speed")),c.data("animation")&&(e.animateOut=c.data("animation"),e.mouseDrag=!1),c.data("content_animation")&&(b(),e.onTranslated=function(){b()}),a(window).on("vc_js",function(){d.trigger("refresh.owl.carousel")}),d.owlCarousel(e),"yes"==c.data("autoheight")&&d.imagesLoaded(function(){d.trigger("refresh.owl.carousel")})})},baselSliderLazyLoad:function(){a(".basel-slider").on("changed.owl.carousel",function(b){var c=a(this),d=c.find(".owl-item").eq(b.item.index),e=d.find(".basel-slide").attr("id"),f=c.find('[id="'+e+'"]');d.find(".basel-slide").addClass("basel-loaded"),f.each(function(){a(this).addClass("basel-loaded")})})},lazyLoading:function(){function b(){f=f||setTimeout(function(){f=null,c()},100)}function c(){g.length&&requestAnimationFrame(function(){for(var a,b,c,f=parseInt(basel_settings.lazy_loading_offset),h=window.pageYOffset,i=h+window.innerHeight+f,j=0;j<g.length;)a=g[j].getBoundingClientRect(),b=h+a.top,c=b+a.height,c>h&&i>b&&!g[j].loaded?d(g[j],j):j++;e=g.length})}function d(a,b){function c(){requestAnimationFrame(function(){a.classList.add("basel-loaded");var b=jQuery(a).parents(".view-masonry .gallery-images, .grid-masonry, .masonry-container");b.length>0&&b.isotope("layout");var c=jQuery(a).parents(".categories-masonry");c.length>0&&c.packery()})}a.onload=c,a.src=a.dataset.baselSrc,"undefined"!=typeof a.dataset.srcset&&(a.srcset=a.dataset.srcset),a.loaded=!0}if(window.addEventListener&&window.requestAnimationFrame&&document.getElementsByClassName){var e,f,g=document.getElementsByClassName("basel-lazy-load");if(a(document).on("basel-images-loaded added_to_cart",function(){c()}),a(".basel-scroll-content, .basel-sidebar-content").scroll(function(){a(document).trigger("basel-images-loaded")}),a(".wc-tabs > li").on("click",function(){a(document).trigger("basel-images-loaded")}),window.addEventListener("scroll",b,!1),window.addEventListener("resize",b,!1),MutationObserver){var h=new MutationObserver(function(){g.length!==e&&c()});h.observe(document.body,{subtree:!0,childList:!0,attributes:!0,characterData:!0})}c()}},productLoaderPosition:function(){var b=function(){a(".basel-products-loader").each(function(){var b=a(this),c=b.parent();0!=b.length&&b.css("left",c.offset().left+c.outerWidth()/2)})};a(window).on("resize",b),b()},stickySidebarBtn:function(){var b=a(".basel-show-sidebar-btn"),c=a(".shop-sidebar-opener");if(!(c.length<=0||b.length<=0||a(window).width()>=1024)){var d=function(){var d=b.offset().top+b.outerHeight(),e=a(window).scrollTop();e>d?c.addClass("basel-sidebar-btn-shown"):c.removeClass("basel-sidebar-btn-shown")};d(),a(window).scroll(d),a(window).resize(d)}},stickyAddToCart:function(){var b=a(".summary-inner .cart"),c=a(".basel-sticky-btn");if(!(c.length<=0||b.length<=0||a(window).width()<=768&&c.hasClass("mobile-off"))){var d=b.offset().top+b.outerHeight(),e=a(".scrollToTop"),f=function(){var b=a(window).scrollTop(),f=a(window).height(),g=a(document).height();b>d&&b+f!=g?(c.addClass("basel-sticky-btn-shown"),e.addClass("basel-sticky-btn-shown")):(b+f==g||d>b)&&(c.removeClass("basel-sticky-btn-shown"),e.removeClass("basel-sticky-btn-shown"))};f(),a(window).scroll(f),a(".basel-sticky-add-to-cart").on("click",function(b){b.preventDefault(),a("html, body").animate({scrollTop:a(".summary-inner").offset().top},800)}),a(".basel-sticky-btn-wishlist").on("click",function(b){a(this).hasClass("exists")||b.preventDefault(),a(".summary-inner .basel-scroll-content > .yith-wcwl-add-to-wishlist .add_to_wishlist").trigger("click")}),a("body").on("added_to_wishlist",function(){a(".basel-sticky-btn-wishlist").addClass("exists")})}},shopLoader:function(){var b=".basel-shop-loader",c='.products[data-source="main_loop"]',d=".area-sidebar-shop",e="sidebar-left",f="hidden-loader",g="hidden-from-top",h="hidden-from-bottom",i=function(){var d=a(c),e=d.parent().find(b);if(!(d.length<1)){var i=a(window).height()/2,j=a(window).scrollTop(),k=d.offset().top-i,l=d.height(),m=k+l-100;k>j?e.addClass(f+" "+g):j>m?e.addClass(f+" "+h):e.removeClass(f+" "+g+" "+h)}},j=function(){var f=a(c),g=a(d),h=f.parent().find(b),i=g.outerWidth();f.length<1||(i>0&&g.hasClass(e)?a("body").hasClass("rtl")?h.css({marginLeft:-i/2-15}):h.css({marginLeft:i/2-15}):i>0&&(a("body").hasClass("rtl")?h.css({marginLeft:i/2-15}):h.css({marginLeft:-i/2-15})))};a(window).off("scroll.loaderVerticalPosition"),a(window).off("loaderHorizontalPosition"),a(window).on("scroll.loaderVerticalPosition",i),a(window).on("resize.loaderHorizontalPosition",j),i(),j()},loginSidebar:function(){var b=a("body");a(".login-side-opener").on("click",function(a){a.preventDefault(),e()?c():setTimeout(function(){d()},10)}),b.on("click touchstart",".basel-close-side",function(){e()&&c()}),b.on("click",".widget-close",function(a){a.preventDefault(),e()&&c()});var c=function(){b.removeClass("basel-login-side-opened")},d=function(){b.addClass("basel-login-side-opened")},e=function(){return b.hasClass("basel-login-side-opened")}},headerBanner:function(){var b=basel_settings.header_banner_version,c=basel_settings.header_banner_close_btn,d=basel_settings.header_banner_enabled;if("closed"!=Cookies.get("basel_tb_banner_"+b)&&0!=c&&0!=d){var e=a(".header-banner");a("body").hasClass("page-template-maintenance")||a("body").addClass("header-banner-display"),e.on("click",".close-header-banner",function(a){a.preventDefault(),f()});var f=function(){a("body").removeClass("header-banner-display").addClass("header-banner-hide"),Cookies.set("basel_tb_banner_"+b,"closed",{expires:60,path:"/"})}}},shopHiddenSidebar:function(){a("body").on("click",".basel-show-sidebar-btn, .basel-sticky-sidebar-opener",function(c){c.preventDefault(),a(".sidebar-container").hasClass("show-hidden-sidebar")?baselThemeModule.hideShopSidebar():b()}),a("body").on("click touchstart",".basel-close-side, .basel-close-sidebar-btn",function(){baselThemeModule.hideShopSidebar()});var b=function(){a(".sidebar-container").addClass("show-hidden-sidebar"),a("body").addClass("basel-show-hidden-sidebar"),a(".basel-show-sidebar-btn").addClass("btn-clicked"),a(window).width()>=1024&&a(".sidebar-inner.basel-sidebar-scroll").nanoScroller({paneClass:"basel-scroll-pane",sliderClass:"basel-scroll-slider",contentClass:"basel-sidebar-content",preventPageScrolling:!1})}},hideShopSidebar:function(){a(".basel-show-sidebar-btn").removeClass("btn-clicked"),a(".sidebar-container").removeClass("show-hidden-sidebar"),a("body").removeClass("basel-show-hidden-sidebar"),a(".sidebar-inner.basel-scroll").nanoScroller({destroy:!0})},mobileSearchIcon:function(){var b=a("body");a(".mobile-search-icon.search-button").on("click",function(c){a(window).width()>1024||(c.preventDefault(),b.hasClass("act-mobile-menu")||(b.addClass("act-mobile-menu"),a(".mobile-nav .searchform").find('input[type="text"]').focus()))})},contentPopup:function(){a(".basel-popup-with-content").magnificPopup({type:"inline",removalDelay:500,tClose:basel_settings.close,tLoading:basel_settings.loading,callbacks:{beforeOpen:function(){this.st.mainClass=b.popupEffect+" content-popup-wrapper"},open:function(){a(document).trigger("basel-images-loaded")}}})},addToCartAllTypes:function(){0!=basel_settings.ajax_add_to_cart&&a("body").on("submit","form.cart",function(b){var c=a(this).parents(".single-product-page");if(!c.hasClass("product-type-external")&&!c.hasClass("product-type-zakeke")){b.preventDefault();var d=a(this),e=d.find(".single_add_to_cart_button"),f=d.serialize();f+="&action=basel_ajax_add_to_cart",e.val()&&(f+="&add-to-cart="+e.val()),e.removeClass("added not-added"),e.addClass("loading"),a(document.body).trigger("adding_to_cart",[e,f]),a.ajax({url:basel_settings.ajaxurl,data:f,method:"POST",success:function(b){if(b){var c=window.location.toString();if(c=c.replace("add-to-cart","added-to-cart"),b.error&&b.product_url)return void(window.location=b.product_url);if("yes"===wc_add_to_cart_params.cart_redirect_after_add)return void(window.location=wc_add_to_cart_params.cart_url);e.removeClass("loading");var d=b.fragments,f=b.cart_hash;d&&a.each(d,function(b){a(b).addClass("updating")}),d&&a.each(d,function(b,c){a(b).replaceWith(c)}),b.notices.indexOf("error")>0?(a(".woocommerce-error").length>0&&a(".woocommerce-error").remove(),a(".single-product-content").prepend(b.notices),e.addClass("not-added")):("widget"==basel_settings.add_to_cart_action&&a.magnificPopup.close(),e.addClass("added"),a(document.body).trigger("added_to_cart",[d,f,e]))}},error:function(){console.log("ajax adding to cart error")},complete:function(){}})}})},initZoom:function(){var b=a(".woocommerce-product-gallery__wrapper:not(.quick-view-gallery)");return"yes"!=basel_settings.zoom_enable?!1:void b.find(".woocommerce-product-gallery__image").each(function(){var b=a(this),c=b.find("img"),d={touch:!1};"ontouchstart"in window&&(d.on="click"),c.data("large_image_width")>a(this).width()&&(b.trigger("zoom.destroy"),b.zoom(d))})},videoPoster:function(){a(".basel-video-poster-wrapper").on("click",function(){var b=a(this),c=b.siblings("iframe"),d=c.attr("src"),e=d+"&autoplay=1";d.indexOf("vimeo.com")+1&&(e=d+"?autoplay=1"),c.attr("src",e),b.addClass("hidden-poster")})},fixedHeaders:function(){var b=function(){var a=e.outerHeight();return d.hasClass("sticky-navigation-only")&&(a=e.find(".navigation-wrap").outerHeight()),a},c=function(){f.hasClass(h)||a(".header-spacing").height(b()).css("marginBottom",40)},d=a("body"),e=a(".main-header"),f=e,g=b(),h="act-scroll",i="",j=0,k=e.find(".main-nav .menu>li>a");if(d.hasClass("enable-sticky-header")&&!d.hasClass("global-header-vertical")&&0!=e.length){var l=e.find(".site-logo").clone().html(),m=e.find(".main-nav").clone().html(),n=e.find(".right-column").clone().html(),o=['<div class="sticky-header header-clone">','<div class="container">','<div class="site-logo">'+l+"</div>",'<div class="main-nav site-navigation basel-navigation">'+m+"</div>",'<div class="right-column">'+n+"</div>","</div>","</div>"].join("");if(a(".topbar-wrapp").length>0&&(j=a(".topbar-wrapp").outerHeight()),a(".header-banner").length>0&&d.hasClass("header-banner-display")&&(j+=a(".header-banner").outerHeight()),d.hasClass("sticky-header-real")){var p=a("<div/>").addClass("header-spacing");e.before(p),a(window).on("resize",c);var q;a(window).on("scroll",function(b){d.hasClass("header-banner-hide")&&(j=a(".topbar-wrapp").length>0?a(".topbar-wrapp").outerHeight():0),a(this).scrollTop()>j?f.addClass(h):(f.removeClass(h),clearTimeout(q),q=setTimeout(function(){c()},200))})}else d.hasClass("sticky-header-clone")&&(e.before(o),f=a(".sticky-header"));d.hasClass("basel-header-smooth")&&a(window).on("scroll",function(b){var c=(120-a(this).scrollTop())/2;c>=60?c=60:30>=c&&(c=30),k.css({paddingTop:c,paddingBottom:c})}),d.hasClass("basel-header-overlap")||d.hasClass("sticky-navigation-only"),!d.hasClass("basel-header-overlap")&&d.hasClass("sticky-header-clone")&&(e.attr("class").split(" ").forEach(function(a){-1==a.indexOf("main-header")&&-1==a.indexOf("header-")&&(i+=" "+a)}),f.addClass(i),j+=g,a(window).on("scroll",function(b){d.hasClass("header-banner-hide")&&(j=a(".topbar-wrapp").outerHeight()+g),a(this).scrollTop()>j?f.addClass(h):f.removeClass(h)})),d.addClass("sticky-header-prepared")}},verticalHeader:function(){function b(){h=g.width(),1024>h&&(r=s=!1,e.removeAttr("style"))}function c(){var a=g.scrollTop();1024>h||(l=e.height(),o=l+e.offset().top,j=g.height(),k=f.height(),p=j+g.scrollTop(),n=l-j,q=t-a,n>0?a>t?(o>p&&(u+=q),-n>u&&(s=!0,u=-n),r=!1):t>a?(e.offset().top<g.scrollTop()&&(u+=q),u>=0&&(r=!0,u=0),s=!1):(p>o&&(u=j-l),u>=0&&(r=!0,u=0)):u=0,e.css({top:u}),t=a)}function d(){b(),c()}var e=a(".header-vertical").first();if(!(e.length<1)){var f,g,h,i,j,k,l,m,n,o,p,q,r=!1,s=!1,t=0,u=0;f=a(document.body),g=a(window),i=f.is(".admin-bar")?a("#wpadminbar").height():0,g.on("scroll",c).on("resize",function(){clearTimeout(m),m=setTimeout(d,500)}),d();for(var v=1;6>v;v++)setTimeout(d,100*v)}},splitNavHeader:function(){var b=a(".header-split");if(!(b.length<=0)){var c,d=b.find(".main-nav"),e=d.find(".menu > li"),f=e.length,g=a("body").hasClass("rtl"),h=parseInt(f/2+.5*g-.5),i=e.eq(h),j=b.find(".site-logo > .basel-logo-wrap"),k=0,l=g?"marginLeft":"marginRight",m=0,n=function(){c=j.outerWidth(),k=5,m=0;for(var a=f-1;a>=0;a--){var b=e.eq(a).outerWidth();a>h?m+=b:k+=b}var n=k-m;g?k>m?d.find(".menu > li:first-child").css("marginRight",-n):d.find(".menu > li:last-child").css("marginLeft",n+5):k>m?d.find(".menu > li:last-child").css("marginRight",n+5):d.find(".menu > li:first-child").css("marginLeft",-n),i.css(l,c)};j.imagesLoaded(function(){n(),b.addClass("menu-calculated")}),a(window).on("resize",n),basel_settings.split_nav_fix&&a(window).on("scroll",function(){b.hasClass("act-scroll")&&!b.hasClass("menu-sticky-calculated")&&(n(),b.addClass("menu-sticky-calculated"),b.removeClass("menu-calculated")),b.hasClass("act-scroll")||b.hasClass("menu-calculated")||(n(),b.addClass("menu-calculated"),b.removeClass("menu-sticky-calculated"))})}},counterShortcode:function(a){"done"!=a.attr("data-state")&&a.text()==a.data("final")&&a.prop("Counter",0).animate({Counter:a.text()},{duration:3e3,easing:"swing",step:function(b){b>=a.data("final")&&a.attr("data-state","done"),a.text(Math.ceil(b))}})},visibleElements:function(){a(".basel-counter .counter-value").each(function(){a(this).waypoint(function(){baselThemeModule.counterShortcode(a(this))},{offset:"100%"})})},wishList:function(){var b=a("body");b.on("click",".add_to_wishlist",function(){a(this).parent().addClass("feid-in")})},compare:function(){var b=a("body"),c=a("a.compare");b.on("click","a.compare",function(){a(this).addClass("loading")}),b.on("yith_woocompare_open_popup",function(){c.removeClass("loading"),b.addClass("compare-opened")}),b.on("click","#cboxClose, #cboxOverlay",function(){b.removeClass("compare-opened")})},baselCompare:function(){function b(b){e.length>0&&e.find(".compare-count").text(b.count),a(".basel-compare-table").length>0&&a(".basel-compare-table").replaceWith(b.table)}var c="basel_compare_list";basel_settings.is_multisite&&(c+="_"+basel_settings.current_blog_id);var d=a("body"),e=a(".basel-compare-info-widget"),f=Cookies.get(c);if(e.length>0)try{var g=JSON.parse(f);e.find(".compare-count").text(g.length)}catch(h){console.log("cant parse cookies json")}d.on("click",".basel-compare-btn a, a.basel-compare-btn",function(c){var d=a(this),e=d.data("id"),f=d.data("added-text");return d.hasClass("added")?!0:(c.preventDefault(),d.addClass("loading"),void jQuery.ajax({url:basel_settings.ajaxurl,data:{action:"basel_add_to_compare",id:e},dataType:"json",method:"GET",success:function(a){a.table?b(a):console.log("something wrong loading compare data ",a)},error:function(a){console.log("We cant add to compare. Something wrong with AJAX response. Probably some PHP conflict.")},complete:function(){d.removeClass("loading").addClass("added"),d.find("span").length>0?d.find("span").text(f):d.text(f)}}))}),d.on("click",".basel-compare-remove",function(c){var d=a(".basel-compare-table");c.preventDefault();var e=a(this),f=e.data("id");d.addClass("loading"),e.addClass("loading"),jQuery.ajax({url:basel_settings.ajaxurl,data:{action:"basel_remove_from_compare",id:f},dataType:"json",method:"GET",success:function(a){a.table?b(a):console.log("something wrong loading compare data ",a)},error:function(a){console.log("We cant remove product compare. Something wrong with AJAX response. Probably some PHP conflict.")},complete:function(){d.removeClass("loading"),e.addClass("loading")}})})},promoPopup:function(){var b=basel_settings.promo_version;if(!(a("body").hasClass("page-template-maintenance")||"yes"!=basel_settings.enable_popup||"yes"==basel_settings.promo_popup_hide_mobile&&a(window).width()<768)){var c=(a(".basel-promo-popup"),!1),d=Cookies.get("basel_shown_pages"),e=function(){a.magnificPopup.open({items:{src:".basel-promo-popup"},type:"inline",removalDelay:400,tClose:basel_settings.close,tLoading:basel_settings.loading,callbacks:{beforeOpen:function(){this.st.mainClass="basel-popup-effect"},open:function(){},close:function(){Cookies.set("basel_popup_"+b,"shown",{expires:7,path:"/"})}}}),a(document).trigger("basel-images-loaded")};return a(".basel-open-popup").on("click",function(a){a.preventDefault(),e()}),d||(d=0),d<basel_settings.popup_pages?(d++,Cookies.set("basel_shown_pages",d,{expires:7,path:"/"}),!1):void("shown"!=Cookies.get("basel_popup_"+b)&&("scroll"==basel_settings.popup_event?a(window).scroll(function(){return c?!1:void(a(document).scrollTop()>=basel_settings.popup_scroll&&(e(),c=!0))}):setTimeout(function(){e()},basel_settings.popup_delay)))}},productVideo:function(){a(".product-video-button a").magnificPopup({tClose:basel_settings.close,tLoading:basel_settings.loading,type:"iframe",iframe:{patterns:{youtube:{index:"youtube.com/",id:"v=",src:"//www.youtube.com/embed/%id%?rel=0&autoplay=1"}}},mainClass:"mfp-fade",removalDelay:160,preloader:!1,disableOn:!1,fixedContentPos:!1})},product360Button:function(){a(".product-360-button a").magnificPopup({tClose:basel_settings.close,tLoading:basel_settings.loading,type:"inline",mainClass:"mfp-fade",removalDelay:160,disableOn:!1,preloader:!1,fixedContentPos:!1,callbacks:{open:function(){a(window).resize()}}})},cookiesPopup:function(){var b=basel_settings.cookies_version;if("accepted"!=Cookies.get("basel_cookies_"+b)){var c=a(".basel-cookies-popup");setTimeout(function(){c.addClass("popup-display"),c.on("click",".cookies-accept-btn",function(a){a.preventDefault(),d()})},2500);var d=function(){c.removeClass("popup-display").addClass("popup-hide"),Cookies.set("basel_cookies_"+b,"accepted",{expires:60,path:"/"})}}},googleMap:function(){var b=a(".google-map-container-with-content");a(window).resize(function(){b.css({height:b.find(".basel-google-map.with-content").outerHeight()})})},woocommerceWrappTable:function(){var b=a(".woocommerce .shop_table:not(.wishlist_table)"),c=a(".woocommerce .cart_totals table");b.wrap("<div class='responsive-table'></div>"),c.wrap("<div class='responsive-table'></div>")},menuSetUp:function(){var b=a(".basel-navigation").find("ul.menu"),c=(b.find(" > li"),"item-menu-opened");b.on("click"," > .item-event-click.menu-item-has-children > a",function(b){b.preventDefault(),a(this).parent().hasClass(c)||a("."+c).removeClass(c),a(this).parent().toggleClass(c)}),a(document).on("click",function(d){var e=d.target;return a("."+c).length>0&&!a(e).is(".item-event-hover")&&!a(e).parents().is(".item-event-hover")&&!a(e).parents().is("."+c)?(b.find("."+c).removeClass(c),!1):void 0});var d=function(){a(window).width()<=1024?b.find(" > .item-event-hover").each(function(){a(this).data("original-event","hover").removeClass("item-event-hover").addClass("item-event-click")}):b.find(" > .item-event-click").each(function(){"hover"==a(this).data("original-event")&&a(this).removeClass("item-event-click").addClass("item-event-hover")})};a(window).on("resize",d)},menuOffsets:function(){var b=a(window),c=a(".main-header"),d=a(".main-nav").find("ul.menu"),e=d.find(" > li.menu-item-design-sized");d.on("hover"," > li",function(b){f(a(this))});var f=function(d){var e=d.find(" > .sub-menu-dropdown"),f=a(".website-wrapper");e.attr("style","");var g=e.outerWidth(),h=e.offset(),i=b.width(),j=f.outerWidth()+f.offset().left,k=a("body").hasClass("wrapper-boxed")||a("body").hasClass("wrapper-boxed-small")?j:i;if(g&&h){if(a("body").hasClass("rtl")&&h.left<=0&&d.hasClass("menu-item-design-sized")&&!c.hasClass("header-vertical")){var l=-h.left;e.css({right:-l-10});"."+d.attr("class").split(" ").join(".")+"> .sub-menu-dropdown:before",l+d.width()/2}else if(h.left+g>=k&&d.hasClass("menu-item-design-sized")&&!c.hasClass("header-vertical")){var m=h.left+g-k;e.css({left:-m-10});"."+d.attr("class").split(" ").join(".")+"> .sub-menu-dropdown:before",m+d.width()/2}if(c.hasClass("header-vertical")){var n=e.offset().top+e.outerHeight(),o=b.scrollTop()+b.outerHeight();n>o&&e.css({top:o-n-10})}}};e.each(function(){f(a(this)),a(this).addClass("with-offsets")})},onePageMenu:function(){var b=function(b){var d=a("#"+b);if(!(d.length<1)){var e=d.offset().top;a("html, body").stop().animate({scrollTop:e-basel_settings.one_page_menu_offset},800,function(){c(b)})}},c=function(b){var c;a(".onepage-link").each(function(){c=a(this).find("> a").attr("href").split("#")[1],c==b&&(a(".onepage-link").removeClass("current-menu-item"),a(this).addClass("current-menu-item"))})};if(a("body").on("click",".onepage-link > a",function(c){var d=a(this),e=d.attr("href").split("#")[1];a("#"+e).length<1||(c.preventDefault(),b(e),a(".basel-close-side").trigger("click"))}),a(".onepage-link").length>0){a(".entry-content > .vc_section, .entry-content > .vc_row").waypoint(function(){var b=a(this).attr("id");c(b)},{offset:0});var d=window.location.hash.split("#")[1];window.location.hash.length>1&&setTimeout(function(){b(d)},500)}},mobileNavigation:function(){function b(){d.addClass("act-mobile-menu")}function c(){d.removeClass("act-mobile-menu")}var d=a("body"),e=a(".mobile-nav"),f=(a(".website-wrapper"),
a(".mobile-nav .site-mobile-menu .menu-item-has-children")),g='<span class="icon-sub-menu"></span>';a(".icon-sub-menu");f.append(g),e.on("click",".icon-sub-menu",function(b){b.preventDefault(),a(this).parent().hasClass("opener-page")?(a(this).parent().removeClass("opener-page").find("> ul").slideUp(200),a(this).parent().removeClass("opener-page").find(".sub-menu-dropdown .container > ul").slideUp(200),a(this).parent().find("> .icon-sub-menu").removeClass("up-icon")):(a(this).parent().addClass("opener-page").find("> ul").slideDown(200),a(this).parent().addClass("opener-page").find(".sub-menu-dropdown .container > ul").slideDown(200),a(this).parent().find("> .icon-sub-menu").addClass("up-icon"))}),d.on("click",".mobile-nav-icon",function(){d.hasClass("act-mobile-menu")?c():b()}),d.on("click touchstart",".basel-close-side",function(){c()}),d.on("click touchstart",".mobile-nav .login-side-opener",function(){c()})},simpleDropdown:function(){a(".input-dropdown-inner").each(function(){function b(){d.addClass("dd-shown"),g.slideDown(100)}function c(){d.removeClass("dd-shown"),g.slideUp(100)}var d=a(this),e=d.find("> a"),f=d.find("> input"),g=d.find("> ul");a(document).on("click",function(b){var e=b.target;return!d.hasClass("dd-shown")||a(e).is(".input-dropdown-inner")||a(e).parents().is(".input-dropdown-inner")?void 0:(c(),!1)}),e.on("click",function(a){return a.preventDefault(),d.hasClass("dd-shown")?c():b(),!1}),g.on("click","a",function(b){b.preventDefault();var d=a(this).data("val"),h=a(this).text();g.find(".current-item").removeClass("current-item"),a(this).parent().addClass("current-item"),0!=d?g.find("> li:first-child").show():0==d&&g.find("> li:first-child").hide(),e.text(h),f.val(d).trigger("cat_selected"),c()})})},equalizeColumns:function(){a.fn.basel_equlize=function(b){var c=a.extend({child:""},b),d=this;""!=c.child&&(d=this.find(c.child));var e=function(){var b=0;d.each(function(){a(this).attr("style",""),a(window).width()>767&&a(this).outerHeight()>b&&(b=a(this).outerHeight())}),d.each(function(){a(this).css({minHeight:b})})};a(window).on("resize",function(){e()}),setTimeout(function(){e()},200),setTimeout(function(){e()},500),setTimeout(function(){e()},800)},a(".equal-columns").each(function(){a(this).basel_equlize({child:"> [class*=col-]"})})},blogMasonry:function(){if("undefined"!=typeof a.fn.isotope&&"undefined"!=typeof a.fn.imagesLoaded){var b=a(".masonry-container");b.imagesLoaded(function(){b.isotope({gutter:0,isOriginLeft:!a("body").hasClass("rtl"),itemSelector:".blog-design-masonry, .blog-design-mask, .masonry-item"})}),a(".masonry-filter").on("click","a",function(b){b.preventDefault(),setTimeout(function(){jQuery(document).trigger("basel-images-loaded")},300),a(".masonry-filter").find(".filter-active").removeClass("filter-active"),a(this).addClass("filter-active");var c=a(this).attr("data-filter");a(this).parents(".portfolio-filter").siblings(".masonry-container.basel-portfolio-holder").first().isotope({filter:c})})}},blogLoadMore:function(){a(".basel-blog-load-more").on("click",function(b){b.preventDefault();var c=a(this),d=c.data("holder-id"),e=a(".basel-blog-holder#"+d),f=e.data("atts"),g=e.data("paged");c.addClass("loading"),a.ajax({url:basel_settings.ajaxurl,data:{atts:f,paged:g,action:"basel_get_blog_shortcode"},dataType:"json",method:"POST",success:function(b){if(b.items){if(e.hasClass("masonry-container")){var d=a(b.items);e.append(d).isotope("appended",d),e.imagesLoaded().progress(function(){e.isotope("layout")})}else e.append(b.items);e.data("paged",g+1)}"no-more-posts"==b.status&&c.hide()},error:function(a){console.log("ajax error")},complete:function(){c.removeClass("loading")}})})},productsLoadMore:function(){var c,d=!1;a(".basel-products-element").each(function(){function b(){q=a(window).height()/2,r=a(window).outerWidth(!0)+17,o=f.outerWidth(!0)+10,i=a(window).scrollTop(),j=f.offset().top-q,k=f.offset().left-y,l=k+o+y,p=v.outerHeight(),n=f.height()-50-p,m=j+n,(1047>=r&&r>=992||825>=r&&r>=768)&&(k+=18,l-=18),(768>r||t.hasClass("wrapper-boxed")||t.hasClass("wrapper-boxed-small")||a(".main-header").hasClass("header-vertical"))&&(k+=51,l-=51),v.css({left:k+"px"}),w.css({left:l+"px"}),j>i||i>m?(u.removeClass("show-arrow"),x.addClass("hidden-loader")):(u.addClass("show-arrow"),x.removeClass("hidden-loader"))}var f=a(this),g=[],h=f.find(".basel-products-holder");if(h.hasClass("pagination-arrows")||h.hasClass("pagination-more-btn")){g[1]={items:h.html(),status:"have-posts"},f.on("recalc",function(){s()}),h.hasClass("pagination-arrows")&&a(window).resize(function(){s()});var i,j,k,l,m,n,o,p,q,r,s=function(){var a=h.outerHeight();f.stop().css({minHeight:a})},t=a("body"),u=f.find(".products-footer"),v=u.find(".basel-products-load-prev"),w=u.find(".basel-products-load-next"),x=f.find(".basel-products-loader"),y=50;t.hasClass("rtl")&&(v=w,w=u.find(".basel-products-load-prev")),a(window).scroll(function(){b()}),f.find(".basel-products-load-prev, .basel-products-load-next").on("click",function(b){if(b.preventDefault(),!d&&!a(this).hasClass("disabled")){d=!0,clearInterval(c);var f=a(this),h=f.parent().siblings(".basel-products-holder"),i=f.parent().find(".basel-products-load-next"),j=f.parent().find(".basel-products-load-prev"),k=h.data("atts"),l=h.attr("data-paged"),m=basel_settings.ajaxurl,n="basel_get_products_shortcode",o="POST";if(f.hasClass("basel-products-load-prev")){if(2>l)return;l-=2}l++,e("arrows",k,m,n,o,l,h,f,g,function(b){h.addClass("basel-animated-products"),b.items&&(h.html(b.items).attr("data-paged",l),h.imagesLoaded().progress(function(){h.parent().trigger("recalc")}),a(document).trigger("basel-images-loaded"),baselThemeModule.btnsToolTips()),a(window).width()<768&&a("html, body").stop().animate({scrollTop:h.offset().top-150},400);var d=0;c=setInterval(function(){h.find(".product-grid-item").eq(d).addClass("basel-animated"),d++},100),l>1?j.removeClass("disabled"):j.addClass("disabled"),"no-more-posts"==b.status?i.addClass("disabled"):i.removeClass("disabled")})}})}}),baselThemeModule.clickOnScrollButton(b.shopLoadMoreBtn,!1),a(document).off("click",".basel-products-load-more").on("click",".basel-products-load-more",function(c){if(c.preventDefault(),!d){d=!0;var g=a(this),h=g.parent().siblings(".basel-products-holder"),i=h.data("source"),j="basel_get_products_"+i,k=basel_settings.ajaxurl,l="POST",m=h.data("atts"),n=h.data("paged");n++,"main_loop"==i&&(k=a(this).attr("href"),l="GET"),e("load-more",m,k,j,l,n,h,g,[],function(c){c.items&&(h.hasClass("grid-masonry")?f(h,c.items):h.append(c.items),h.imagesLoaded().progress(function(){baselThemeModule.clickOnScrollButton(b.shopLoadMoreBtn,!0)}),a(document).trigger("basel-images-loaded"),h.data("paged",n),baselThemeModule.btnsToolTips()),"main_loop"==i&&(g.attr("href",c.nextPage),"no-more-posts"==c.status&&g.hide().remove()),"no-more-posts"==c.status&&g.hide().remove()})}});var e=function(b,c,e,f,g,h,i,j,k,l){var m={atts:c,paged:h,action:f,woo_ajax:1};if(k[h])return i.addClass("loading"),void setTimeout(function(){l(k[h]),i.removeClass("loading"),d=!1},300);if(i.addClass("loading").parent().addClass("element-loading"),"arrows"==b&&i.addClass("loading").parent().addClass("element-loading"),"basel_get_products_main_loop"==f){var n=i.find(".product").last().data("loop");m={loop:n,woo_ajax:1}}j.addClass("loading"),a.ajax({url:e,data:m,dataType:"json",method:g,success:function(a){k[h]=a,l(a)},error:function(a){console.log("ajax error")},complete:function(){i.removeClass("loading").parent().removeClass("element-loading"),j.removeClass("loading"),d=!1,baselThemeModule.compare(),baselThemeModule.countDownTimer()}})},f=function(b,c){var c=a(c);b.append(c).isotope("appended",c),b.isotope("layout"),setTimeout(function(){b.isotope("layout")},100),b.imagesLoaded().progress(function(){b.isotope("layout")})}},clickOnScrollButton:function(b,c){if("function"==typeof a.waypoints){var d=a(b);c&&d.waypoint("destroy"),d.waypoint(function(){d.trigger("click")},{offset:"100%"})}},productsTabs:function(){var b=!1;a(".basel-products-tabs").each(function(){var d=a(this),e=d.find(".basel-tab-content"),f=[];e.find(".owl-carousel").length<1&&(f[0]={html:e.html()}),d.find(".products-tabs-title li").on("click",function(d){d.preventDefault();var g=a(this),h=g.data("atts"),i=g.index();b||g.hasClass("active-tab-title")||(b=!0,c(h,i,e,g,f,function(b){b.html&&(e.html(b.html),a(document).trigger("basel-images-loaded"),baselThemeModule.btnsToolTips(),baselThemeModule.shopMasonry(),baselThemeModule.productsLoadMore(),baselThemeModule.productLoaderPosition())}))});var g=d.find(".tabs-navigation-wrapper"),h=g.find("ul");g.on("click",".open-title-menu",function(){var b=a(this);h.hasClass("list-shown")?(b.removeClass("toggle-active"),h.removeClass("list-shown")):(b.addClass("toggle-active"),h.addClass("list-shown"),setTimeout(function(){a("body").one("click",function(c){var d=c.target;return a(d).is(".tabs-navigation-wrapper")||a(d).parents().is(".tabs-navigation-wrapper")?void 0:(b.removeClass("toggle-active"),h.removeClass("list-shown"),!1)})},10))}).on("click","li",function(){var b=g.find(".open-title-menu"),c=a(this).text();h.hasClass("list-shown")&&(b.removeClass("toggle-active").text(c),h.removeClass("list-shown"))})});var c=function(c,d,e,f,g,h){return f.parent().find(".active-tab-title").removeClass("active-tab-title"),f.addClass("active-tab-title"),g[d]?(e.addClass("loading"),void setTimeout(function(){h(g[d]),e.removeClass("loading"),b=!1},300)):(e.addClass("loading").parent().addClass("element-loading"),f.addClass("loading"),void a.ajax({url:basel_settings.ajaxurl,data:{atts:c,action:"basel_get_products_tab_shortcode"},dataType:"json",method:"POST",success:function(a){g[d]=a,h(a)},error:function(a){console.log("ajax error")},complete:function(){e.removeClass("loading").parent().removeClass("element-loading"),f.removeClass("loading"),b=!1,baselThemeModule.compare()}}))}},portfolioLoadMore:function(){if("function"==typeof a.waypoints){var b=a(".basel-portfolio-load-more.load-on-scroll").waypoint(function(){a(".basel-portfolio-load-more.load-on-scroll").trigger("click")},{offset:"100%"}),c=!1;a(".basel-portfolio-load-more").on("click",function(d){if(d.preventDefault(),!c&&!a(this).hasClass("no-more-posts")){c=!0;var e,f=a(this),g=f.parent().parent().find(".basel-portfolio-holder"),h=g.data("source"),i="basel_get_portfolio_"+h,j=basel_settings.ajaxurl,k="json",l="POST",m=g.data("atts"),n=g.data("paged");f.addClass("loading");var o={atts:m,paged:n,action:i};"main_loop"==h&&(j=a(this).attr("href"),l="GET",o={}),a.ajax({url:j,data:o,dataType:k,method:l,success:function(c){var d=a(c.items);d&&(g.hasClass("masonry-container")?(g.append(d).isotope("appended",d),g.imagesLoaded().progress(function(){g.isotope("layout"),clearTimeout(e),e=setTimeout(function(){a(".basel-portfolio-load-more.load-on-scroll").waypoint("destroy"),b=a(".basel-portfolio-load-more.load-on-scroll").waypoint(function(){a(".basel-portfolio-load-more.load-on-scroll").trigger("click")},{offset:"100%"})},1e3)})):g.append(d),g.data("paged",n+1),f.attr("href",c.nextPage)),baselThemeModule.mfpPopup(),"no-more-posts"==c.status&&(f.addClass("no-more-posts"),f.hide())},error:function(a){console.log("ajax error")},complete:function(){f.removeClass("loading"),c=!1}})}})}},shopMasonry:function(){if("undefined"!=typeof a.fn.isotope&&"undefined"!=typeof a.fn.imagesLoaded){var b=a(".elements-grid.grid-masonry");b.imagesLoaded(function(){b.isotope({isOriginLeft:!a("body").hasClass("rtl"),itemSelector:".category-grid-item, .product-grid-item"})}),a(window).resize(function(){var b=a(".categories-masonry"),c=b.hasClass("categories-style-masonry")?".category-grid-item":".col-md-3.category-grid-item";b.imagesLoaded(function(){b.packery({resizable:!1,isOriginLeft:!a("body").hasClass("rtl"),packery:{gutter:0,columnWidth:c},itemSelector:".category-grid-item"})})})}},sidebarMenu:function(){var b=a(".widget_nav_mega_menu").height(),c=a(".categories-menu-dropdown").height(),d=a(".widget_nav_mega_menu ul > li.menu-item-design-sized > .sub-menu-dropdown, .widget_nav_mega_menu ul > li.menu-item-design-full-width > .sub-menu-dropdown"),e=a(".categories-menu-dropdown ul > li.menu-item-design-sized > .sub-menu-dropdown, .categories-menu-dropdown ul > li.menu-item-design-full-width > .sub-menu-dropdown");d.css("min-height",b+"px"),e.css("min-height",c+"px")},productImages:function(){var b,c=a(".woocommerce-product-gallery"),d=a(".woocommerce-product-gallery__wrapper"),e=c.find(".thumbnails"),f=a(".photoswipe-images"),g=".basel-show-product-gallery",h="photo-swipe";e.addClass("thumbnails-ready"),c.hasClass("image-action-popup")&&(g+=", .woocommerce-product-gallery__image a"),c.on("click",".woocommerce-product-gallery__image a",function(a){a.preventDefault()}),c.on("click",g,function(c){if(c.preventDefault(),b=a(this).attr("href"),"magnific"==h&&a.magnificPopup.open({type:"image",tClose:basel_settings.close,tLoading:basel_settings.loading,image:{verticalFit:!1},items:j(),gallery:{enabled:!0,navigateByImgClick:!1}},0),"photo-swipe"==h){var d=j();baselThemeModule.callPhotoSwipe(i(c),d)}}),e.on("click",".image-link",function(a){a.preventDefault()}),f.each(function(){var b=a(this);b.on("click","a",function(c){c.preventDefault();var d=a(c.currentTarget).data("index")-1,e=k(b,[]);baselThemeModule.callPhotoSwipe(d,e)})});var i=function(b){return d.hasClass("owl-carousel")?d.find(".owl-item.active").index():a(b.currentTarget).parent().index()},j=function(){var b=[];return d.find("figure a img").each(function(){var c=a(this).attr("data-large_image"),d=a(this).attr("data-large_image_width"),e=a(this).attr("data-large_image_height"),f=a(this).data("caption");b.push({src:c,w:d,h:e,title:"yes"==basel_settings.product_images_captions?f:!1})}),b},k=function(b,c){var d,e,f,g;return b.find("a").each(function(){d=a(this).attr("href"),e=a(this).data("width"),f=a(this).data("height"),g=a(this).attr("title"),l(c,d)||c.push({src:d,w:e,h:f,title:g})}),c},l=function(a,b){var c;for(c=0;c<a.length;c++)if(a[c].src==b)return!0;return!1};if(c.hasClass("image-action-zoom")){var m=a(".woocommerce-product-gallery__image"),n=m.find("img");n.attr("width")>a(".woocommerce-product-gallery").width()&&(m.trigger("zoom.destroy"),m.zoom({touch:!1}))}},callPhotoSwipe:function(b,c){var d=document.querySelectorAll(".pswp")[0];a("body").hasClass("rtl")&&(b=c.length-b-1,c=c.reverse());var e={index:b,shareButtons:[{id:"facebook",label:basel_settings.share_fb,url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:basel_settings.tweet,url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:basel_settings.pin_it,url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:basel_settings.download_image,url:"{{raw_image_url}}",download:!0}],getThumbBoundsFn:function(a){}},f=new PhotoSwipe(d,PhotoSwipeUI_Default,c,e);f.init()},productImagesGallery:function(){function c(){g.trigger("destroy.owl.carousel"),g.addClass("owl-carousel").owlCarousel(b.mainCarouselArg),a(document).trigger("basel-images-loaded")}function d(){var b="";g.find(".woocommerce-product-gallery__image").each(function(){var c=a(this).data("thumb"),d=a(this).find("a > img").attr("alt"),e=a(this).find("a > img").attr("title");b+='<img alt="'+d+'" title="'+e+'" src="'+c+'" />'}),h.hasClass("slick-slider")?h.slick("unslick"):h.hasClass("owl-carousel")&&h.trigger("destroy.owl.carousel"),h.empty(),h.append(b)}function e(){h.slick({slidesToShow:basel_settings.product_gallery.thumbs_slider.items.vertical_items,slidesToScroll:basel_settings.product_gallery.thumbs_slider.items.vertical_items,vertical:!0,verticalSwiping:!0,infinite:!1}),h.on("click","img",function(b){var c=a(this).index();i.trigger("to.owl.carousel",c)}),i.on("changed.owl.carousel",function(a){var b=a.item.index;h.slick("slickGoTo",b),h.find(".active-thumb").removeClass("active-thumb"),h.find("img").eq(b).addClass("active-thumb")}),h.find("img").eq(0).addClass("active-thumb")}function f(){h.addClass("owl-carousel").owlCarousel({rtl:a("body").hasClass("rtl"),items:basel_settings.product_gallery.thumbs_slider.items.desktop,responsive:{979:{items:basel_settings.product_gallery.thumbs_slider.items.desktop},768:{items:basel_settings.product_gallery.thumbs_slider.items.desktop_small},479:{items:basel_settings.product_gallery.thumbs_slider.items.tablet},0:{items:basel_settings.product_gallery.thumbs_slider.items.mobile}},dots:!1,nav:!0,navText:!1});var b=h.owlCarousel();h.on("click",".owl-item",function(c){var d=a(this).index();b.trigger("to.owl.carousel",d),i.trigger("to.owl.carousel",d)}),i.on("changed.owl.carousel",function(a){var c=a.item.index;b.trigger("to.owl.carousel",c),h.find(".active-thumb").removeClass("active-thumb"),h.find(".owl-item").eq(c).addClass("active-thumb")}),h.find(".owl-item").eq(0).addClass("active-thumb")}var g=a(".woocommerce-product-gallery__wrapper:not(.quick-view-gallery)"),h=(a(".woocommerce-product-gallery__image:eq(0) img"),a(".images .thumbnails")),i=a(".woocommerce-product-gallery__wrapper");basel_settings.product_gallery.images_slider&&("yes"==basel_settings.product_slider_auto_height?a(".product-images").imagesLoaded(function(){c()}):c()),basel_settings.product_gallery.thumbs_slider.enabled&&basel_settings.product_gallery.images_slider&&(d(),"left"==basel_settings.product_gallery.thumbs_slider.position&&jQuery(window).width()>991?e():f())},stickyDetails:function(){function b(){l=a(window).height(),k.each(function(){e=a(this).offset().top,q>e-l+20&&a(this).addClass("animate-images")})}function c(){q=a(window).scrollTop(),u=q+n+p,i=g.width(),s=g.offset().left+15,r=j.offset().top,t=r+m,i>o&&(f=(i-o)/2,s+=f),q+n>=r?(g.addClass("block-sticked"),h.css({top:n,left:s,width:i,position:"fixed",transform:"translateY(-20px)"})):(g.removeClass("block-sticked"),h.css({top:"auto",left:"auto",width:"auto",position:"relative",transform:"translateY(0px)"})),u>t?g.addClass("hide-temporary"):g.removeClass("hide-temporary")}function d(){l=a(window).height(),p=g.outerHeight(),m=j.outerHeight(),l-n>p?g.addClass("in-viewport").removeClass("not-in-viewport"):g.removeClass("in-viewport").addClass("not-in-viewport")}if(a("body").hasClass("basel-product-design-sticky")){var e,f,g=a(".entry-summary"),h=g.find(".summary-inner"),i=g.width(),j=a(".product-images"),k=j.find(".woocommerce-product-gallery__wrapper a"),l=a(window).height(),m=j.outerHeight(),n=130,o=600,p=g.outerHeight(),q=a(window).scrollTop(),r=j.offset().top,s=g.offset().left+15,t=r+m,u=q+n+p;g.css({height:p}),a(window).resize(function(){d()}),a(window).scroll(function(){c(),b()}),j.imagesLoaded(function(){d()})}},mfpPopup:function(){a(".gallery").magnificPopup({tClose:basel_settings.close,tLoading:basel_settings.loading,delegate:" > a",type:"image",image:{verticalFit:!0},gallery:{enabled:!0,navigateByImgClick:!0}}),a('[data-rel="mfp"]').magnificPopup({tClose:basel_settings.close,tLoading:basel_settings.loading,type:"image",image:{verticalFit:!0},gallery:{enabled:!1,navigateByImgClick:!1}}),a(document).on("click",".mfp-img",function(){var a=jQuery.magnificPopup.instance;a.st.image.verticalFit=!a.st.image.verticalFit,a.currItem.img.removeAttr("style"),a.updateSize()})},addToCart:function(){var c,d=this,e=0;a("body").on("added_to_cart",function(c,g,h){if("popup"==basel_settings.add_to_cart_action){var i=['<div class="added-to-cart">',"<p>"+basel_settings.added_to_cart+"</p>",'<a href="#" class="btn btn-style-link close-popup">'+basel_settings.continue_shopping+"</a>",'<a href="'+basel_settings.cart_url+'" class="btn btn-color-primary view-cart">'+basel_settings.view_cart+"</a>","</div>"].join("");a.magnificPopup.open({tClose:basel_settings.close,tLoading:basel_settings.loading,removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass=b.popupEffect+"  cart-popup-wrapper"}},items:{src:'<div class="white-popup add-to-cart-popup mfp-with-anim popup-added_to_cart">'+i+"</div>",type:"inline"}}),a(".white-popup").on("click",".close-popup",function(b){b.preventDefault(),a.magnificPopup.close()}),f()}else if("widget"==basel_settings.add_to_cart_action){clearTimeout(e);var j=a(a(".sticky-header.act-scroll").length>0?".sticky-header .dropdown-wrap-cat":".main-header .dropdown-wrap-cat");a(".cart-widget-opener a").length>0?a(".cart-widget-opener a").trigger("click"):a(".shopping-cart .a").length>0?(a(".shopping-cart .dropdown-wrap-cat").addClass("display-widget"),e=setTimeout(function(){a(".display-widget").removeClass("display-widget")},3500)):(j.addClass("display-widget"),e=setTimeout(function(){a(".display-widget").removeClass("display-widget")},3500)),f()}d.btnsToolTips()});var f=function(){return"yes"!==basel_settings.add_to_cart_action_timeout?!1:(clearTimeout(c),void(c=setTimeout(function(){a(".basel-close-side").trigger("click"),a.magnificPopup.close()},1e3*parseInt(basel_settings.add_to_cart_action_timeout_number))))}},updateWishListNumberInit:function(){if(!("no"==basel_settings.wishlist||a(".wishlist-count").length<=0)){var c=this;if(b.supports_html5_storage)try{var d=sessionStorage.getItem("basel_wishlist_number"),e=Cookies.get("basel_wishlist_hash");if((null===d||void 0===d||""===d)&&(d=0),(null===e||void 0===e||""===e)&&(e=0),d!=e)throw"No wishlist number";this.setWishListNumber(d)}catch(f){this.updateWishListNumber()}else this.updateWishListNumber();a("body").on("added_to_cart added_to_wishlist removed_from_wishlist",function(){c.updateWishListNumber(),c.btnsToolTips(),c.woocommerceWrappTable()})}},updateCartWidgetFromLocalStorage:function(){if(b.supports_html5_storage)try{var c=a.parseJSON(sessionStorage.getItem(wc_cart_fragments_params.fragment_name));if(!c||!c["div.widget_shopping_cart_content"])throw"No fragment";a.each(c,function(b,c){a(b).replaceWith(c)}),a(document.body).trigger("wc_fragments_loaded")}catch(d){console.log("cant update cart widget")}},updateWishListNumber:function(){var c=this;a.ajax({url:basel_settings.ajaxurl,data:{action:"basel_wishlist_number"},method:"get",success:function(a){c.setWishListNumber(a),b.supports_html5_storage&&sessionStorage.setItem("basel_wishlist_number",a)}})},setWishListNumber:function(b){b=a.isNumeric(b)?b:0,a(".wishlist-info-widget .wishlist-count").text(b)},cartWidget:function(){var b=a(".cart-widget-opener"),c=(b.find("a"),a("body"));b.on("click","a",function(a){g()||h()||a.preventDefault(),f()?d():setTimeout(function(){e()},10)}),c.on("click touchstart",".basel-close-side",function(){f()&&d()}),c.on("click",".widget-close",function(a){a.preventDefault(),f()&&d()}),a(document).keyup(function(a){27===a.keyCode&&f()&&d()});var d=function(){a("body").removeClass("basel-cart-opened")},e=function(){return g()||h()?!1:void a("body").addClass("basel-cart-opened")},f=function(){return a("body").hasClass("basel-cart-opened")},g=function(){return a("body").hasClass("woocommerce-cart")},h=function(){return a("body").hasClass("woocommerce-checkout")};a(document).on("wc_fragments_refreshed wc_fragments_loaded added_to_cart",function(){a(document).trigger("basel-images-loaded")})},bannersHover:function(){a(".promo-banner.hover-4").panr({sensitivity:20,scale:!1,scaleOnHover:!0,scaleTo:1.15,scaleDuration:.34,panY:!0,panX:!0,panDuration:.5,resetPanOnMouseLeave:!0})},parallax:function(){a(".parallax-yes").each(function(){var b=a(this);a(window).scroll(function(){var c=-(a(window).scrollTop()/b.data("speed")),d="center "+c+"px";b.css({backgroundPosition:d})})}),a(".basel-parallax").each(function(){var b=a(this);b.hasClass("wpb_column")?b.find("> .vc_column-inner").parallax("50%",.3):b.parallax("50%",.3)})},scrollTop:function(){a(window).scroll(function(){a(this).scrollTop()>100?a(".scrollToTop").addClass("button-show"):a(".scrollToTop").removeClass("button-show")}),a(".scrollToTop").on("click",function(){return a("html, body").animate({scrollTop:0},800),!1})},quickViewInit:function(){var b=this;a(document).on("click",".open-quick-view",function(c){if(c.preventDefault(),a(".open-quick-view").hasClass("loading"))return!0;var d=a(this).data("id"),e=a(this).data("loop-name"),f=a(this).data("loop"),g="",h="",i=a(".quick-view").find('[data-loop-name="'+e+'"]'),j=a(this);j.addClass("loading"),"undefined"!=typeof i[f-1]&&(g=i.eq(f-1).addClass("quick-view-prev"),g=a("<div>").append(g.clone()).html()),"undefined"!=typeof i[f+1]&&(h=i.eq(f+1).addClass("quick-view-next"),h=a("<div>").append(h.clone()).html()),b.quickViewLoad(d,j,g,h)})},quickViewCarousel:function(){a(".product-quick-view .woocommerce-product-gallery__wrapper").trigger("destroy.owl.carousel"),a(".product-quick-view .woocommerce-product-gallery__wrapper").addClass("owl-carousel").owlCarousel({rtl:a("body").hasClass("rtl"),items:1,dots:!1,nav:!0,navText:!1})},quickViewLoad:function(c,d,e,f){var g={id:c,action:"basel_quick_view"},h=function(c){a.magnificPopup.open({items:{src:'<div class="mfp-with-anim white-popup popup-quick-view">'+c+"</div>",type:"inline"},tClose:basel_settings.close,tLoading:basel_settings.loading,removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass=b.popupEffect},open:function(){a(".variations_form").each(function(){a(this).wc_variation_form().find(".variations select:eq(0)").change()}),a(".variations_form").trigger("wc_variation_form"),a("body").trigger("basel-quick-view-displayed"),baselThemeModule.swatchesVariations(),baselThemeModule.btnsToolTips(),setTimeout(function(){baselThemeModule.nanoScroller()},300),baselThemeModule.quickViewCarousel()}}})};a.ajax({url:basel_settings.ajaxurl,data:g,method:"get",success:function(b){basel_settings.quickview_in_popup_fix?(a.magnificPopup.close(),setTimeout(function(){h(b)},500)):h(b)},complete:function(){d.removeClass("loading")},error:function(){}})},quickShop:function(){function b(a){a.find(".variations_form").wc_variation_form().find(".variations select:eq(0)").change(),a.find(".variations_form").trigger("wc_variation_form")}var c=".btn-quick-shop";a(document).on("click",c,function(c){c.preventDefault();var d=a(this),e=d.parents(".product"),f=e.find(".quick-shop-form"),g=d.data("id"),h="btn-loading";if(!d.hasClass(h)){if(e.hasClass("quick-shop-loaded"))return void e.addClass("quick-shop-shown");d.addClass(h),e.addClass("loading-quick-shop"),a.ajax({url:basel_settings.ajaxurl,data:{action:"basel_quick_shop",id:g},method:"get",success:function(c){f.append(c),b(e),a("body").trigger("basel-quick-view-displayed"),baselThemeModule.swatchesVariations(),baselThemeModule.btnsToolTips()},complete:function(){d.removeClass(h),e.removeClass("loading-quick-shop"),e.addClass("quick-shop-shown quick-shop-loaded")},error:function(){}})}}).on("click",".quick-shop-close",function(){var b=a(this),c=b.parents(".product");c.removeClass("quick-shop-shown")})},btnsToolTips:function(){a(".basel-tooltip, .product-actions-btns > a, .product-grid-item .add_to_cart_button, .quick-view a, .product-compare-button a, .product-grid-item .yith-wcwl-add-to-wishlist a").each(function(){a(this).find(".basel-tooltip-label").remove(),a(this).addClass("basel-tooltip").prepend('<span class="basel-tooltip-label">'+a(this).text()+"</span>")})},stickyFooter:function(){if(a("body").hasClass("sticky-footer-on")&&!(a(window).width()<991)){var b=a(".footer-container"),c=a(".main-page-wrapper"),d=a(window);a(".basel-prefooter").length>0&&(c=a(".basel-prefooter"));var e=function(){c.css({marginBottom:b.outerHeight()})};d.on("resize",e),b.imagesLoaded(function(){e()});var f=function(){var c=d.scrollTop(),e=a(document).outerHeight()-b.outerHeight();e<c+b.outerHeight()+d.outerHeight()?b.addClass("visible-footer"):b.removeClass("visible-footer")};f(),d.on("scroll",f)}},swatchesVariations:function(){var c=a(".variations_form"),d=!1;a(".variations_form .label").on("click",function(b){a(this).siblings(".value").hasClass("with-swatches")&&b.preventDefault()}),c.each(function(){var c=a(this);c.data("swatches")||(c.data("swatches",!0),c.data("product_variations")||c.find(".swatches-select").find("> div").addClass("swatch-enabled"),a(".swatches-select > div").hasClass("active-swatch")&&c.addClass("variation-swatch-selected"),c.on("click",".swatches-select > div",function(){var b=a(this).data("value"),d=a(this).parent().data("id");c.trigger("check_variations",["attribute_"+d,!0]),e(c),a(this).hasClass("active-swatch")||a(this).hasClass("swatch-disabled")||(c.find("select#"+d).val(b).trigger("change"),a(this).parent().find(".active-swatch").removeClass("active-swatch"),a(this).addClass("active-swatch"),e(c))}).on("click",".reset_variations",function(a){c.find(".active-swatch").removeClass("active-swatch")}).on("reset_data",function(){var f=!0,g=!1;c.find(".variations select").each(function(){var b=(a(this).data("attribute_name")||a(this).attr("name"),a(this).val()||"");0===b.length?f=!1:g=!0}),f&&a(this).parent().find(".active-swatch").removeClass("active-swatch"),c.removeClass("variation-swatch-selected");var k=a(".woocommerce-product-gallery__wrapper.owl-carousel");e(c),0!==k.length&&("yes"==basel_settings.product_slider_auto_height?(!h()&&i("default")&&d&&k.trigger("destroy.owl.carousel"),a(".product-images").imagesLoaded(function(){k=k.owlCarousel(b.mainCarouselArg),k.trigger("refresh.owl.carousel")})):(k=k.owlCarousel(b.mainCarouselArg),k.trigger("refresh.owl.carousel")),k.trigger("to.owl.carousel",0),j("default",c))}).on("reset_image",function(){var b=a(".thumbnails img").first();h()||g(c)||b.wc_reset_variation_attr("src")}).on("show_variation",function(e,k,l){if(k.image.src){var m=c.parents(".single-product-content").find('.thumbnails img[data-o_src="'+k.image.thumb_src+'"]').length>0,n=c.parents(".single-product-content").find(".thumbnails img").first();m&&n.wc_reset_variation_attr("src"),g(c)||j(k.variation_id,c)||(n.attr("src")!=k.image.thumb_src&&n.wc_set_variation_attr("src",k.image.src),baselThemeModule.initZoom());var o=a(".woocommerce-product-gallery__wrapper");if(c.addClass("variation-swatch-selected"),g(c)||h()||f(),o.hasClass("owl-carousel")){"yes"==basel_settings.product_slider_auto_height?(!h()&&i(k.variation_id)&&d&&o.trigger("destroy.owl.carousel"),a(".product-images").imagesLoaded(function(){o=o.owlCarousel(b.mainCarouselArg),o.trigger("refresh.owl.carousel")})):(o=o.owlCarousel(b.mainCarouselArg),o.trigger("refresh.owl.carousel"));var p=a(".images .thumbnails");o.trigger("to.owl.carousel",0),p.hasClass("owl-carousel")?(p.owlCarousel().trigger("to.owl.carousel",0),p.find(".active-thumb").removeClass("active-thumb"),p.find(".owl-item").eq(0).addClass("active-thumb")):(p.slick("slickGoTo",0),p.find(".active-thumb").removeClass("active-thumb"),p.find("img").eq(0).addClass("active-thumb"))}}}))});var e=function(b){b.data("product_variations")&&b.find(".variations select").each(function(){var b=a(this),c=b.parent().find(".swatches-select"),d=b.html();d=a(d),c.find("> div").removeClass("swatch-enabled").addClass("swatch-disabled"),d.each(function(b){var d=a(this).val();a(this).hasClass("enabled")?c.find('div[data-value="'+d+'"]').removeClass("swatch-disabled").addClass("swatch-enabled"):c.find('div[data-value="'+d+'"]').addClass("swatch-disabled").removeClass("swatch-enabled")})})},f=function(){if(1==basel_settings.swatches_scroll_top_desktop&&a(window).width()>=1024||1==basel_settings.swatches_scroll_top_mobile&&a(window).width()<=1024){var b=a("html, body");b.stop(!0),a(window).on("mousedown wheel DOMMouseScroll mousewheel keyup touchmove",function(){b.stop(!0)}),b.animate({scrollTop:a(".product-image-summary").offset().top-150},800)}},g=function(a){return a.parent().hasClass("quick-shop-form")},h=function(){return a(".single-product-content").hasClass("product-quick-view")},i=function(a){var b=h()?basel_qv_variation_gallery_data:basel_variation_gallery_data;return"undefined"!=typeof b&&b&&b[a]},j=function(b,c){var e=h()?basel_qv_variation_gallery_data:basel_variation_gallery_data;if(!i(b)||g(c)||"default"===b&&!d)return!1;var f=e[b],j=c.parents(".single-product-content").find(".woocommerce-product-gallery__wrapper");j.empty();for(var k=0;k<f.length;k++){
var l='<figure data-thumb="'+f[k].data_thumb+'" class="woocommerce-product-gallery__image">';h()||(l+='<a href="'+f[k].href+'">'),l+=f[k].image,h()||(l+="</a>"),l+="</figure>",j.append(l)}return baselThemeModule.productImagesGallery(),baselThemeModule.quickViewCarousel(),a(".woocommerce-product-gallery__image").trigger("zoom.destroy"),h()||baselThemeModule.initZoom(),d="default"===b?!1:!0,!0}},swatchesOnGrid:function(){a("body").on("click",".swatch-on-grid",function(){var b,c,d,e=a(this).data("image-src"),f=a(this).data("image-srcset"),g=a(this).data("image-sizes");if("undefined"!=typeof e){var h=a(this).parents(".product-grid-item"),i=h.find(".product-element-top > a > img"),j=i.data("original-src"),k=i.data("original-srcset"),l=i.data("original-sizes");"undefined"==typeof j&&i.data("original-src",i.attr("src")),"undefined"==typeof k&&i.data("original-srcset",i.attr("srcset")),"undefined"==typeof l&&i.data("original-sizes",i.attr("sizes")),a(this).hasClass("current-swatch")?(b=j,c=k,d=l,a(this).removeClass("current-swatch"),h.removeClass("product-swatched")):(a(this).parent().find(".current-swatch").removeClass("current-swatch"),a(this).addClass("current-swatch"),h.addClass("product-swatched"),b=e,c=f,d=g),i.attr("src")!=b&&(h.addClass("loading-image"),i.attr("src",b).attr("srcset",c).attr("image_sizes",d).one("load",function(){h.removeClass("loading-image")}))}})},ajaxFilters:function(){if(a("body").hasClass("basel-ajax-shop-on")){var c=this,d=!1;a(".products");a("body").on("click",".post-type-archive-product .products-footer .woocommerce-pagination a",function(a){e()}),a(document).pjax(b.ajaxLinks,".main-page-wrapper",{timeout:basel_settings.pjax_timeout,scrollTo:!1}),a(document).on("click",".widget_price_filter form .button",function(){var b=a(".widget_price_filter form");return console.log(b.serialize()),a.pjax({container:".main-page-wrapper",timeout:basel_settings.pjax_timeout,url:b.attr("action"),data:b.serialize(),scrollTo:!1}),!1}),a(document).on("pjax:error",function(a,b,c,d){console.log("pjax error "+c)}),a(document).on("pjax:start",function(b,c){a("body").addClass("basel-loading"),baselThemeModule.hideShopSidebar()}),a(document).on("pjax:beforeReplace",function(b,c){a(".filters-area").hasClass("filters-opened")&&"yes"==basel_settings.shop_filters_close&&(d=!0,a("body").addClass("body-filters-opened"))}),a(document).on("pjax:complete",function(b,d,f){c.shopPageInit(),e(),a(document).trigger("basel-images-loaded"),a(".baselmart-sidebar-content").scroll(function(){a(document).trigger("basel-images-loaded")}),a("body").removeClass("basel-loading")}),a(document).on("pjax:end",function(b,c,e){d&&(a(".filters-area").css("display","block"),baselThemeModule.openFilters(200),d=!1),a("body").removeClass("basel-loading")});var e=function(){if("no"==basel_settings.ajax_scroll)return!1;var b=a(basel_settings.ajax_scroll_class),c=b.offset().top-basel_settings.ajax_scroll_offset;a("html, body").stop().animate({scrollTop:c},400)}}},shopPageInit:function(){this.shopMasonry(),this.ajaxSearch(),this.btnsToolTips(),this.compare(),this.filterDropdowns(),this.categoriesMenuBtns(),this.sortByWidget(),this.categoriesAccordion(),this.woocommercePriceSlider(),this.updateCartWidgetFromLocalStorage(),this.nanoScroller(),this.countDownTimer(),this.shopLoader(),this.stickySidebarBtn(),this.productFilters(),baselThemeModule.clickOnScrollButton(b.shopLoadMoreBtn,!1),a(".woocommerce-ordering").on("change","select.orderby",function(){a(this).closest("form").find('[name="_pjax"]').remove(),a(this).closest("form").submit()}),a(document.body).on("updated_wc_div",function(){a(document).trigger("basel-images-loaded")}),a(document).trigger("resize.vcRowBehaviour")},filterDropdowns:function(){function b(b){var c=b.parent(".basel-widget-layered-nav-dropdown-form");"undefined"!=typeof a.fn.pjax&&a.pjax({container:".main-page-wrapper",timeout:basel_settings.pjax_timeout,url:c.attr("action"),data:c.serialize(),scrollTo:!1})}a(".basel-widget-layered-nav-dropdown-form").each(function(){var b=a(this),c=b.find("select"),d=c.data("slug");c.change(function(){var b=a(this).val();a("input[name=filter_"+d+"]").val(b)}),a().selectWoo&&c.selectWoo({placeholder:c.data("placeholder"),minimumResultsForSearch:5,width:"100%",allowClear:c.attr("multiple")?!1:!0,language:{noResults:function(){return c.data("noResults")}}}).on("select2:unselecting",function(){a(this).data("unselecting",!0)}).on("select2:opening",function(b){a(this).data("unselecting")&&(a(this).removeData("unselecting"),b.preventDefault())})}),a(".basel-widget-layered-nav-dropdown__submit").on("click",function(c){a(this).siblings("select").attr("multiple")&&a("body").hasClass("basel-ajax-shop-on")&&(b(a(this)),a(this).prop("disabled",!0))}),a(".basel-widget-layered-nav-dropdown-form select").on("change",function(c){return a("body").hasClass("basel-ajax-shop-on")?void b(a(this)):void a(this).parent().submit()})},backHistory:function(){history.go(-1),setTimeout(function(){a(".filters-area").removeClass("filters-opened").stop().hide(),a(".open-filters").removeClass("btn-opened"),a(window).width()<992&&(a(".basel-product-categories").removeClass("categories-opened").stop().hide(),a(".basel-show-categories").removeClass("button-open")),baselThemeModule.woocommercePriceSlider()},20)},categoriesMenu:function(){if(!(a(window).width()>991)){var b=a(".basel-product-categories"),c=(b.find("li > ul"),a(".basel-show-categories"),200);a("body").on("click",".icon-drop-category",function(){a(this).parent().find("> ul").hasClass("child-open")?a(this).removeClass("basel-act-icon").parent().find("> ul").slideUp(c).removeClass("child-open"):a(this).addClass("basel-act-icon").parent().find("> ul").slideDown(c).addClass("child-open")}),a("body").on("click",".basel-show-categories",function(a){a.preventDefault(),console.log("close click"),d()?f():e()}),a("body").on("click",".basel-product-categories a",function(a){f(),b.stop().attr("style","")});var d=function(){return a(".basel-product-categories").hasClass("categories-opened")},e=function(){a(".basel-product-categories").addClass("categories-opened").stop().slideDown(c),a(".basel-show-categories").addClass("button-open")},f=function(){a(".basel-product-categories").removeClass("categories-opened").stop().slideUp(c),a(".basel-show-categories").removeClass("button-open")}}},categoriesMenuBtns:function(){if(!(a(window).width()>991)){var b=a(".basel-product-categories"),c=b.find("li > ul"),d='<span class="icon-drop-category"></span>';b.addClass("responsive-cateogires"),c.parent().addClass("has-sub").prepend(d)}},categoriesAccordion:function(){if("no"!=basel_settings.categories_toggle){var b=a(".widget_product_categories"),c=b.find(".product-categories"),d=a('<div class="basel-cats-toggle" />'),e=300;c.find(".cat-parent").append(d),c.on("click",".basel-cats-toggle",function(){var b=a(this),c=b.prev();c.hasClass("list-shown")?(b.removeClass("toggle-active"),c.stop().slideUp(e).removeClass("list-shown")):(c.parent().parent().find("> li > .list-shown").slideUp().removeClass("list-shown"),c.parent().parent().find("> li > .toggle-active").removeClass("toggle-active"),b.addClass("toggle-active"),c.stop().slideDown(e).addClass("list-shown"))}),c.find("li.current-cat.cat-parent, li.current-cat-parent").length>0&&c.find("li.current-cat.cat-parent, li.current-cat-parent").find("> .basel-cats-toggle").click()}},woocommercePriceSlider:function(){if("undefined"==typeof woocommerce_price_slider_params||a(".price_slider_amount #min_price").length<1||!a.fn.slider)return!1;var b=a(".price_slider");if(void 0===b.slider("instance")){a("input#min_price, input#max_price").hide(),a(".price_slider, .price_label").show();var c=a(".price_slider_amount #min_price").data("min"),d=a(".price_slider_amount #max_price").data("max"),e=parseInt(c,10),f=parseInt(d,10);a(".products").attr("data-min_price")&&a(".products").attr("data-min_price").length>0&&(e=parseInt(a(".products").attr("data-min_price"),10)),a(".products").attr("data-max_price")&&a(".products").attr("data-max_price").length>0&&(f=parseInt(a(".products").attr("data-max_price"),10)),b.slider({range:!0,animate:!0,min:c,max:d,values:[e,f],create:function(){a(".price_slider_amount #min_price").val(e),a(".price_slider_amount #max_price").val(f),a(document.body).trigger("price_slider_create",[e,f])},slide:function(b,c){a("input#min_price").val(c.values[0]),a("input#max_price").val(c.values[1]),a(document.body).trigger("price_slider_slide",[c.values[0],c.values[1]])},change:function(b,c){a(document.body).trigger("price_slider_change",[c.values[0],c.values[1]])}}),setTimeout(function(){a(document.body).trigger("price_slider_create",[e,f]),b.find(".ui-slider-range").length>1&&b.find(".ui-slider-range").first().remove()},10)}},filtersArea:function(){var c=a(".filters-area"),d=(a(".open-filters"),200);a("body").on("click",".open-filters",function(a){a.preventDefault(),e()?f():(baselThemeModule.openFilters(),setTimeout(function(){baselThemeModule.shopLoader()},d))}),"no"==basel_settings.shop_filters_close&&a("body").on("click",b.ajaxLinks,function(){e()&&f()});var e=function(){return c=a(".filters-area"),c.hasClass("filters-opened")},f=function(){c=a(".filters-area"),c.removeClass("filters-opened"),c.stop().slideUp(d),a(".open-filters").removeClass("btn-opened")}},openFilters:function(b){var c=a(".filters-area");c.addClass("filters-opened"),c.stop().slideDown(b),a(".open-filters").addClass("btn-opened"),setTimeout(function(){c.addClass("filters-opened"),a("body").removeClass("body-filters-opened"),baselThemeModule.nanoScroller(),a(document).trigger("basel-images-loaded")},b)},ajaxSearch:function(){var b=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};a("form.basel-ajax-search").each(function(){var c=a(this),d=parseInt(c.data("count")),e=parseInt(c.data("thumbnail")),f=c.find('[name="product_cat"]'),g=c.parent().find(".basel-search-results"),h=parseInt(c.data("price")),i=basel_settings.ajaxurl+"?action=basel_ajax_search",j=c.data("post_type");if(d>0&&(i+="&number="+d),i+="&post_type="+j,g.on("click",".view-all-result",function(){c.submit()}),f.length&&""!==f.val()&&(i+="&product_cat="+f.val()),c.find('[type="text"]').devbridgeAutocomplete({serviceUrl:i,appendTo:g,onSelect:function(a){a.permalink.length>0&&(window.location.href=a.permalink)},onSearchStart:function(a){c.addClass("search-loading")},beforeRender:function(b){b[0].childElementCount>2&&a(b).append('<div class="view-all-result"><span>'+basel_settings.all_results+"</span></div>")},onSearchComplete:function(b,d){c.removeClass("search-loading"),a(".basel-scroll").nanoScroller({paneClass:"basel-scroll-pane",sliderClass:"basel-scroll-slider",contentClass:"basel-scroll-content",preventPageScrolling:!0}),a(document).trigger("basel-images-loaded")},formatResult:function(a,c){"&"==c&&(c="&#038;");var d="("+b(c)+")",f="";return e&&a.thumbnail&&(f+=' <div class="suggestion-thumb">'+a.thumbnail+"</div>"),f+='<h4 class="suggestion-title result-title">'+a.value.replace(new RegExp(d,"gi"),"<strong>$1</strong>").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")+"</h4>",h&&a.price&&(f+=' <div class="suggestion-price price">'+a.price+"</div>"),f}}),f.length){var k=c.find('[type="text"]').devbridgeAutocomplete(),l=basel_settings.ajaxurl+"?action=basel_ajax_search";d>0&&(l+="&number="+d),l+="&post_type="+j,f.on("cat_selected",function(){""!=f.val()?k.setOptions({serviceUrl:l+"&product_cat="+f.val()}):k.setOptions({serviceUrl:l}),k.hide(),k.onValueChange()})}})},searchFullScreen:function(){var b=a("body"),c=a(".basel-search-wrapper");b.on("click",".search-button > a",function(b){b.preventDefault(),!c.find(".searchform").hasClass("basel-ajax-search")&&a(".search-button").hasClass("basel-search-dropdown")||a(window).width()<1024||(c=a(a(".sticky-header.act-scroll").length>0?".sticky-header .basel-search-wrapper":".main-header .basel-search-wrapper"),f()?d():setTimeout(function(){e()},10))}),b.on("click",".basel-close-search, .main-header, .sticky-header, .topbar-wrapp, .main-page-wrapper, .header-banner",function(b){(a(b.target).is(".basel-close-search")||!a(b.target).closest(".basel-search-wrapper").length)&&f()&&d()});var d=function(){a("body").removeClass("basel-search-opened"),c.removeClass("search-overlap")},e=function(){var b=a("#wpadminbar").outerHeight(),e=a(".header-banner").outerHeight(),g=a(".main-header").outerHeight()+b;a(".main-header").hasClass("act-scroll")||(g+=a(".topbar-wrapp").outerHeight(),a("body").hasClass("header-banner-display")&&(g+=e)),a(".sticky-header").hasClass("header-clone")&&a(".sticky-header").hasClass("act-scroll")&&(g=a(".sticky-header").outerHeight()+b),a(".main-header").hasClass("header-menu-top")&&a(".header-spacing")&&(g=a(".header-spacing").outerHeight()+b,a("body").hasClass("header-banner-display")&&(g+=e)),a(".header-menu-top").hasClass("act-scroll")&&(g=a(".header-menu-top.act-scroll .navigation-wrap").outerHeight()+b),c.css("top",g),a("body").addClass("basel-search-opened"),c.addClass("search-overlap"),setTimeout(function(){c.find('input[type="text"]').focus(),a(window).one("scroll",function(){f()&&d()})},300)},f=function(){return a("body").hasClass("basel-search-opened")}},loginTabs:function(){var b=a(".basel-register-tabs"),c=b.find(".basel-switch-to-register"),d=(b.find(".col-login"),a(".col-register-text h2")),e=b.find(".login-info"),f=(b.find(".col-register"),"active-register"),g=c.data("login"),h=c.data("register"),i=c.data("login-title"),j=c.data("reg-title");c.on("click",function(c){c.preventDefault(),m()?l():k();a(".main-page-wrapper").offset().top-100;a(window).width()<768&&a("html, body").stop().animate({scrollTop:b.offset().top-50},400)});var k=function(){b.addClass(f),c.text(g),e.length>0&&d.text(i)},l=function(){b.removeClass(f),c.text(h),e.length>0&&d.text(j)},m=function(){return b.hasClass(f)}},productAccordion:function(){var b=a(".tabs-layout-accordion"),c=300,d=window.location.hash,e=window.location.href;d.toLowerCase().indexOf("comment-")>=0||"#reviews"===d||"#tab-reviews"===d?b.find(".tab-title-reviews").addClass("active"):e.indexOf("comment-page-")>0||e.indexOf("cpage=")>0?b.find(".tab-title-reviews").addClass("active"):b.find(".basel-accordion-title").first().addClass("active"),b.on("click",".basel-accordion-title",function(d){d.preventDefault();var e=a(this),f=e.siblings(".woocommerce-Tabs-panel");e.hasClass("active")?(e.removeClass("active"),f.stop().slideUp(c)):(b.find(".basel-accordion-title").removeClass("active"),b.find(".woocommerce-Tabs-panel").slideUp(),e.addClass("active"),f.stop().slideDown(c)),a(window).resize(),setTimeout(function(){a(window).resize()},c)})},productCompact:function(){a(".product-design-compact .basel-scroll").nanoScroller({paneClass:"basel-scroll-pane",sliderClass:"basel-scroll-slider",contentClass:"basel-scroll-content",preventPageScrolling:!1})},countDownTimer:function(){a(".basel-timer").each(function(){var b=moment.tz(a(this).data("end-date"),a(this).data("timezone"));a(this).countdown(b.toDate(),function(b){a(this).html(b.strftime('<span class="countdown-days">%-D <span>'+basel_settings.countdown_days+'</span></span> <span class="countdown-hours">%H <span>'+basel_settings.countdown_hours+'</span></span> <span class="countdown-min">%M <span>'+basel_settings.countdown_mins+'</span></span> <span class="countdown-sec">%S <span>'+basel_settings.countdown_sec+"</span></span>"))})})},mobileFastclick:function(){"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1)},nanoScroller:function(){a(".basel-scroll").nanoScroller({paneClass:"basel-scroll-pane",sliderClass:"basel-scroll-slider",contentClass:"basel-scroll-content",preventPageScrolling:!1})},woocommerceComments:function(){var b=window.location.hash,c=window.location.href;(b.toLowerCase().indexOf("comment-")>=0||"#reviews"===b||"#tab-reviews"===b||c.indexOf("comment-page-")>0||c.indexOf("cpage=")>0)&&(setTimeout(function(){window.scrollTo(0,0)},1),setTimeout(function(){a(b).length>0&&a("html, body").stop().animate({scrollTop:a(b).offset().top-100},400)},10))},woocommerceQuantity:function(){String.prototype.getDecimals||(String.prototype.getDecimals=function(){var a=this,b=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return b?Math.max(0,(b[1]?b[1].length:0)-(b[2]?+b[2]:0)):0}),a(document).on("click",".plus, .minus",function(){var b=a(this).closest(".quantity").find(".qty"),c=parseFloat(b.val()),d=parseFloat(b.attr("max")),e=parseFloat(b.attr("min")),f=b.attr("step");c&&""!==c&&"NaN"!==c||(c=0),(""===d||"NaN"===d)&&(d=""),(""===e||"NaN"===e)&&(e=0),("any"===f||""===f||void 0===f||"NaN"===parseFloat(f))&&(f="1"),a(this).is(".plus")?d&&c>=d?b.val(d):b.val((c+parseFloat(f)).toFixed(f.getDecimals())):e&&e>=c?b.val(e):c>0&&b.val((c-parseFloat(f)).toFixed(f.getDecimals())),b.trigger("change")})}}}()}(jQuery),jQuery(document).ready(function(){baselThemeModule.init()});